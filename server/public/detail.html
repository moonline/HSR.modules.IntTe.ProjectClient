<!DOCTYPE html>
<html>
<head>
	<meta name="viewport" content="width=device-width, initial-scale=1.0" />
	<meta charset="utf-8" />
	<title>Better Reddit</title>

	<link href="resources/font/font.css" rel="stylesheet" />
	<link href="resources/stylesheets/app.css" rel="stylesheet" />
	<link href="resources/stylesheets/list.css" rel="stylesheet" />
	<link href="resources/stylesheets/detail.css" rel="stylesheet" />

	<link href="lib/jquery.mobile-1.3.2/jquery.mobile-1.3.2.min.css" rel="stylesheet" />

	<script src="Namespaces.js"></script>

	<!--<script src="core/core.js"></script>-->
	<script src="lib/jquery-2.0.3.js"></script>
	<script src="lib/jquery.mobile-1.3.2/jquery.mobile-1.3.2.min.js"></script>
	<script src="lib/doT/doT.2011.js"></script>
	<script src="lib/pUrl/pUrl.js"></script>

	<script src="domain/repository/Repository.js"></script>
	<script src="application/ListController.js"></script>
	<script src="application/UserController.js"></script>
	<script src="application/DetailController.js"></script>

	<script src="main.js"></script>
</head>
<body>

	<!-- detail -->
	<div data-role="page" class="page" id="detail">
		<div data-theme="a" data-role="header" id="mainHeader">
			<a href="list.html" data-role="button" data-icon="arrow-l">Back to List</a>
			<h1>Hi Hero!</h1>
			<a href="#logout" data-role="button">Logout</a>
		</div>
		<div data-role="content" >
			<div data-role="header" data-theme="a" data-role="header">
				<span class="rating">
					
				Post from "{{=it.post.author}}", {{=it.post.createTimeDisplay}}
			</div>
			<div class = "Title">
				<h2>{{=it.post.title}}</h2>
				<a href="{{=it.post.url}}" target="_blank">{{=it.post.url}}</a>
			</div>

			<div id="wrapper">
				<div id="scroller">
					<ul id="commentList" data-role="listview" data-divider-theme="b" data-inset="true">

						{{~it.post.comments :comment:index}}
							<li data-theme="c">Comment
								<div class="comment">
									<div class="commentInfo">
										<span class="commentOwner">{{=comment.author}}</span>
										<span class="commentTime">{{=comment.createTimeDisplay}}</span>
									</div>
									<div class="commentText">
										<span class="Text">{{=comment.text}}</span>
									</div>
									<div class="commentVote">
										<span class="rating">{{=comment.rating.value}}</span>
									</div>
								</div>
							</li>
						{{~}}

					</ul>
				</div>
			</div>
		</div>
		<div data-theme="a" data-role="footer" data-position="fixed" >
			{{? it.user }}
			<a id="votePostUp" data-post="{{=it.post.id}}" href="detail.html?post={{=it.post.id}}" data-role="button" data-inline="true" data-mini="true" data-icon="arrow-u"> up</a>
			<a id="votePostDown" data-post="{{=it.post.id}}" href="detail.html?post={{=it.post.id}}" data-role="button" data-inline="true" data-mini="true" data-icon="arrow-d"> down</a>
			<a id="addNewComment" href="#newComment" data-role="button" data-icon="add" data-iconpos="left" data-rel="dialog"
				class="newCommentButton" >new Comment
			</a>		
			{{?}}
		</div>
	</div>


	<!-- new comment -->
	<div data-role="page" id="newComment">
		<div data-theme="a" data-role="header">
			<h3 class="title">
				New Comment
			</h3>
		</div>
		<div data-role="content" >
			<form id="newCommentForm">
				<div data-role="fieldcontain">
					<textarea name="comment" id="newCommentTextfield" value="" placeholder="message"
					 type="text"></textarea>
				</div>
				<input id="newCommentSave" data-theme="a" data-icon="check" data-iconpos="left"
				   value="Comment" type="submit">
			</form>
		</div>
	</div>


</body>
</html>
